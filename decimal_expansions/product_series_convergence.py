#! /usr/bin/env -S /usr/bin/time /usr/bin/python3.8.6 -i

# -*- coding: utf-8 -*-

# Some other needed imports
import datetime
import dill
import gzip
import os
import pdb
import re
import sys
import traceback

import numpy as np
import pandas as pd
import multiprocessing as mp

from copy import deepcopy, copy
from dotmap import DotMap
from functools import reduce
from memory_tempfile import MemoryTempfile
from shutil import copyfile
from pprint import pprint
from typing import List, Set, Tuple, Dict, Union
from PIL import Image

from decimal import getcontext
from decimal import Decimal as Dec

PATH_ROOT_DIR = os.path.dirname(os.path.abspath(__file__))+"/"
HOME_DIR = os.path.expanduser("~")+"/"
TEMP_DIR = MemoryTempfile().gettempdir()+"/"

import importlib.util as imp_util

# TODO: change the optaining of the git root folder from a config file first!
spec = imp_util.spec_from_file_location("utils", os.path.join(HOME_DIR, "git/python_programs/utils.py"))
utils = imp_util.module_from_spec(spec)
spec.loader.exec_module(utils)

mkdirs = utils.mkdirs

spec = imp_util.spec_from_file_location("utils_multiprocessing_manager", os.path.join(HOME_DIR, "git/python_programs/utils_multiprocessing_manager.py"))
utils_multiprocessing_manager = imp_util.module_from_spec(spec)
spec.loader.exec_module(utils_multiprocessing_manager)

MultiprocessingManager = utils_multiprocessing_manager.MultiprocessingManager

OBJS_DIR_PATH = PATH_ROOT_DIR+'objs/'
mkdirs(OBJS_DIR_PATH)

if __name__ == '__main__':
    print("Hello World!")

    getcontext().prec = 3000
    
    # p100 = Dec('3.639682294531309061946680194156185562109798761331999307252629125504414379303917463101013521894973806474311439938631522754553227492350095230715843116896256947808869867388944427064064645501850161067080090920600005713029092868368148796618497232677826761921505902612556790600628930510498055382298859279637902784360488522605819828841856140223166161016973005568163508021855316583549776804434071057170890816095632462915019308195365254203234302092827761016762645609317534860972487669976364101685760627587357777181599031542803686412975935396655507786451826939114345880081073042641514325662776130203433575234709674034615601126570427295282504619980091516051576925211147005583096289377773112137216153775436794318238529438380231426154372255335199611258401644067371490094788276505161939079576018566907066301812788091280304383266433524964356189363520194008749187251677564994007237387168449440937348706851179656280701269030124306685749096773090778433882805513917992207578658177443893402719361130629650470296058883981')
    # p1000 = Dec('3.672405506092407802958444642412122948690822046002362261378819383962247074767573403626275608551995398776621350773361636828432888985377804867686525165919706409648603052807577046167077863310041715147361383334667334322638079822556000399942905343067686039704855057170663331026289294880034611409301776729502938662999943172847204950729210629309860088054658427574544196356862278208844876962619113674872348872157634009467498923254046378682101021998589582187884652248512051003406338699856895765728667916566103490153250508366954223866214193401773649703573487289373394987000415690621880118029767556865090307375966114567229004554028322428496610336940109216749223360034593202383513148057340670786177531189012966811297976718484439480075779024829040761269251949913646333733427681210103081882525370812813863003920382063123911071460635332101314855416736146960372249033348978815811265598519657676904469267179124086180743282382705800867753564120150238327573794493026218300623238562747194499418986911505318502746755103866')
    # p100k = Dec('3.676041149963479311243508248255944679778049629653195117934737187194248640067636192822691813484382055716523314992336675460996497047880412832086358367043567354243041653407541474203839466155107995695588721052920425232207692919071130789754456604455621771193378802868234816318477659183143831738504787246462826492237808210492726184540319702664535786986768467441962260501797606881092935921354472557591297257457735192873276364370417952353388515108998630318838165326088032517404053190573726285942995311382391661692474758446837091909504886958664205116938022935631839652332216654065894105062955337230739810073233729272585175631314834321639756810041985706488309183448458744609970107974523132983778848901539701452726863210926106094724064638591180801434639972769816072357920260374082454078337354914521673342568270573059853677709536508001031234781333866205641507079130276075187574274551588670782683393966258955464100140112188206140145623128283810288004189967280876686529862364927105533915692214852070585886618753215')
    # p1M = Dec('3.67607423430074342117763377981507693034761539574050071336453383471440512789865419618373441603626617050510276907878443527830750618073994074676371856534618411952622397345570121156181276743004275894885861158022753907793006565821269822642976873640503680120841608380638459561702145203888405064872947907146829087702467900121453143324774708518690476346601058653830015076708434280758213922817236594411666229946442323107343681011323342793450418364878562910329826714454875945717644426895188635797141902599542192855036138900408809807584116488681460703434766878110060841423389876832008071091688415675806435211736945156081536544063617930146849335776897457707522826804490777029469574300433299300899582394911455107753507063906613812194444137218973996546153544209138474008804107981813399797219719727682356595612916578679885527521377429816912428079265926307514342565982725426000968781957665326797790414157767485098780819660982707377735565996112293174584835614509177841341120148199011176226909283858043741690044648921452815215280286271912295949868561287038137490834835533348018218586363936197993048262661812258939686579471715948655445993183135154631126204899180736806378597865197481125008366839542186142325710237916577095050903811971573495586188543158887735027468427615751051164351385962241823987727302313268966965832031759146716160042668899946248837533424981631877807739687390317829554285564270753015758255614909467779052764454462473670017436470962772678472544581033993827722044668349142299201515867738468150917561964923062232522552678275627175485075595676246916497757924184726123039534931503157477277800132956268341271062557541687744599046164459713135508194043219005804776764310318950580035465115724090917692089683132534864702547400026301598476702870091495646340052274533785138365458158307272443109412667565656339283391525190561631323988137115063894083175663266888695202229594512425696216038184069928880244961889928458604205026215767314988329605936454002044041914719947297283328911012695430835153424629733927949768837262334081419835391896223691709788419866520331593719376435460915174855569665973899353846324113100262415642767643523282409350031015866231712127260225842159003680415763712193741297871659432494172854676718038319624383550781878201077979976503764219809303335735153965686010956944988618121118671525598402900974358293179717245181298737549289606034249263018385708904730784688997558454124753487331279629445215604866058533857152028748297508318149489793082302015497872952450634167313250220306116371629340194130481295335560920200270518244584746404636446549534325836273671727264245278489874571516033331549580219837116082173121797077289210317322730065086189501598084148516272865801263238346431237517354045395378262709810570538596412302169967916899646244276377089466896139361756245809957100607848735089183147641931042986536938049299884064706426230689544869533836187597352288957637899682440225176221791008007598361003555242628822114229588357817223559675957793377053318160000777421821039781713503460847632676982271662')

    p1k = Dec('2.42818857921776528754992667128296728679771013026226985301606903130105566400710621932691446617425373766367891148140372634008192400476569365665019217118127740392752647062423559823487552831598353701702389582129323347434171359706437514776404065634051943898627263578025752124805358183943499067778346105307685669058491781684467655073687160064396357678983462077701157005595490837689278803537362151717434152410624917740803215054765469361728184602083115305678922622637092206052014377996338873549574021001979401256037075265471015755842837036727958899244627514912853128825298961171257188112095118904488635247635344042307488914287598076433610921049591145608221400225837351955251749006429449781759921992681485668687619074649318425274091858256548232546180989316254880660017069982943148989240891928305593148113036689825188540817211673890854885057611949783886948541210785585665931184813140487946737508138723527501137416662988820535325776451121846459265495060034519138495850888924512578190507289286739586410579262249514593197004515764326264742778336125363504907828850121469546138090822374780238027420036984249444448045452175311057004211020968238850147829021496112652556702694010964530121699869327039456305632054872592955973097082397626106943912791728622314928607684266475418222379316870892959891466247538911108584851753301378587589571694626357021192935831827237517332150184337337211797706137105531845282054987152553276664100656511997625561084148581123420186262602502428074474436669814918700320859569841398119522686715001202914529658670545937221255753962750013396661430559623331646500876469887389310693573257602459563751592795970782485577083547514086326194593617166284681074423938926212650728766159676187954802754057417815795803045606572627187270240880548076821255566101227205335321274395147706744792164527028442823351067681947926702426866107550281436518444209070979097398185722658255592891463872449447914710616109365885026990618094966413663418787984911543342368600910750689219844606675982813300393562482974976475112203262185873519147342094638543761133820593766301030246750418904659622942037972916733065752024421984066240998693771319884176248960232867396324251528691157903914672477434920164886743450361541048316791231516139137392347746567831607855627294936437609321136409950903392721873214349878962117040807459892326267061948926391967417865515343496928747446605272836742702372651036639584873581500005022725625238095488810889837246573757323931324409998943370092066741267649521672194533179143163599042292297770284605959949748375354998409805261383437663577339536621776176973108217101890237588597660004873765063943686092868207870443640690394847782258217688216515835083606627359838297459929229822251366443562152975984094618336225834978476579000416440365791656895606659274164961484205052195296628400645405933696801101386487770232986677134027392421181391765152059964809445788465096988706017719405835741106557578081920908663562561875262254941360324327558070901138337663586910881063094997243920897899519076555325933046927940381')
    p10k = Dec('2.42818977995913543278172469353452814651145818999769977111508389111868617534286849617390315426709664511659748079439609493092240086261020015777828743457440329534526947038638512327879202023097157821119941188647066137454738991217596939000953566644091923208716349404214785140890958644282488433040141747084358929005036890811851196369771194819589124684161496671247361382608142523438188712587985664205153511728651249438919765883148272119243348135336590047426611038150100561507416662812379384828526045804699523991185904271465022885871160362126514256114001204076996642912905332830282957125488982061629521085169875109743640927736633890087731578545617394258941359348488705261879866638141278382389291159305531534455910297111485578283023047628376737166315180150897527814039024408622799672256149436187512851321096143366850299096765977500645659207758263485380613035750709397528581381631849383471417785775684912593799404561183416687620346050939186950509878085133368516222172111896770558256522972545184615344380235043258259328324596633314141488234966404293644150568555895132789101333171711137614718740019784217167028622757954491714114150604281658700470649633987153262256623688046770965855440141762664149577290788012706377915714358082160404212618599022080456683604945036995373210354955079448073519828671596010559884838569414123436439885019482032841636576269688725843924687214669464932434742642691479930660315642927859895857930206472409255794637017031231538168991755696455712289908072466236982907918777738039564570782275353069913501352732283789916217613495319949432168700691554940543745461646628767055564605695917444870008698684133956282105137154803142925500392455885809956214276227946045401806665386055670341133669459116723280122353760272715814891498812325704734437617034931874625927519101990748339788239882649827483284922833858846650859488864048810551827975555242370186121809251491564805066875993681916271160555104649898513799499739831201690477311087355712254750361719235149575194626022178445542753764510789858454751893195907059160238604178318598653396108250099300152765380640908119643683056141148362332031315565402568314998910366514718608376525484630023641424178124383026231323874436453343753139086645133941041528757043409205361240370740691626058645475699628122554916799383403643897099393570319387337535948533937154523861748501491804428719616527811935508578986360214039956310752878002030363646553617609433209253062048112358743351679024847878536010301254988624489508445316870977851342196251162537453731603488297216464856116037040190659239503910647836187462696019173618835912567555357115281113021903466721889370558293376248496620963065234560406141074662492544378114703171913755484940229348203118377874813226422726564593311052682798894838259390666062682264815177478042962994550835351550367524374208588834715119157114310676081195741781856043246062400512604215697645029817080769733485935744214680228923154044245652356705040285002615959312646870728159163270427270444522300993202485604701573804508408850477288588897593076368')
    p100k = Dec('2.42818979197746205322295869551468995013690335627163557554550571153320797222787974845660113037941711975200751975032546107321445326013202930564128682466093567878207445821444865660425411364150842459194971961116752286544257215335659994085174999381347734444065913775350641995895563016484219648222299858179741674588753291217347814788343558607419721930193916659193929743838248345316784814974653236499709937441798643413622004498205842841197526621536248478433580369787684130933507268449687113517755470071909534668825772918289049847303139608055359168104947633174443309036505716207086021962592675517415051322730098948997571060691261337905780616329781652289564811685346241358584533450602113001262444301751623259201674542760261082968819468118074988799882639291894955882960375347023180459931550949376463932413527594082040438874391021884820850717320453701908810304521425302404107709550414879470620566789294136827296022092362728687322831771453110417545005127926185282641978061792031107779926658591749149216867124578458220001200920993526163090172471497358360501176860237127362806707431234145385911692854290385874324716924380585750310153951613955035040750228950481493515685373766869193577119771112854033720999947975812928305269113076614287867224658235539824778688721788817439654440099378885812972265603798575837618238316341870376787780670147729485760251879098016447014269484999585858531202408421108736643932809642668942057022384004582839032023388826862072076205758616665121933438418251502960817297539171500665334809267424656330513637634461966620865892344482453315044913906428922150929668295488018073284315628529069531141460115299532564504931987672836677774246920572246009458979716016860814758818198714352608585174421995212661216474449459978190974808044381110443389957045218046967620728890483625043654211109840006569744950115381465379870742698691335610741853933163817715028091644009726626338620085887557036506274263306078658362709492013462793518525450118022705106964617000672955636740676423333816572827531111098621521913483252254717615416269777081423772287270252323496455364768771049969053204789781382640309417791908858019677679626811903833154850117919894480633612835999416184325407707055033519581948103472101298521205747975717090571069853663646025318668553592299291794022321615552484935166705380991342156667265979444667936691776693920346080938739852231289932832484636024384281811048275248726562166147690155249601214107228648232034090336703849965478854859834284842994207931185879247446140906113472870787321727722807461701899291105699334420262713329479399386451670169475014846693009623282151724199060927166842486368215958783992060124751361664338683359848288404853754260628925788982192623246629610530676835421475960919912171569076271911853774946822742443163653931201657804901654087176714265270559338278535739578742086232382966468933494497677626355447301006070198196234338032660087473905553240046960107597618548100443606373196402382644432725453642682683624334296812746616503922868503568244378611266217235718613735181936721')

    num1 = Dec(1)
    num2 = Dec(2)

    x = num1
    a = num1
    p = num1

    # l_x = []
    l = []

    print("i: {}, p: {}".format(0, p))
    for i in range(1, 10**5+1):
        x = num1 + (num1 / Dec(i))**3
        # l_x.append(x)

        p = p * x
        
        # p = p * (x + a)
        # a /= num2

        l.append(p)

        print("i: {}, p: {}".format(i, p))
